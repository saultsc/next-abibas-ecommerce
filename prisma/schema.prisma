generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma/client"
}

datasource db {
  provider = "sqlserver"
}

model addresses {
  address_id    Int      @id(map: "PK__addresse__CAA247C803477F89") @default(autoincrement())
  person_id     Int
  address_line1 String   @db.VarChar(200)
  address_line2 String?  @db.VarChar(200)
  city_id       Int
  postal_code   String   @db.VarChar(20)
  is_primary    Boolean  @default(false, map: "DF__addresses__is_pr__123EB7A3")
  state         String   @default("A", map: "DF__addresses__state__1332DBDC") @db.VarChar(1)
  created_at    DateTime @default(now(), map: "DF__addresses__creat__14270015") @db.DateTime
  updated_at    DateTime @default(now(), map: "DF__addresses__updat__151B244E") @db.DateTime
  cities        cities   @relation(fields: [city_id], references: [city_id], onUpdate: NoAction, map: "FK__addresses__city___17036CC0")
  persons       persons  @relation(fields: [person_id], references: [person_id], onUpdate: NoAction, map: "FK__addresses__perso__160F4887")
  states        states   @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__addresses__state__17F790F9")
  orders        orders[]
}

model categories {
  category_id   Int        @id(map: "PK__categori__D54EE9B43550CBC0") @default(autoincrement())
  category_name String     @db.VarChar(100)
  state         String     @default("A", map: "DF__categorie__state__44FF419A") @db.VarChar(1)
  created_at    DateTime   @default(now(), map: "DF__categorie__creat__45F365D3") @db.DateTime
  updated_at    DateTime   @default(now(), map: "DF__categorie__updat__46E78A0C") @db.DateTime
  states        states     @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__categorie__state__47DBAE45")
  products      products[]
}

model cities {
  city_id     Int         @id(map: "PK__cities__031491A89CB6109B") @default(autoincrement())
  province_id Int
  city_name   String      @db.VarChar(100)
  state       String      @default("A", map: "DF__cities__state__0B91BA14") @db.VarChar(1)
  created_at  DateTime    @default(now(), map: "DF__cities__created___0C85DE4D") @db.DateTime
  updated_at  DateTime    @default(now(), map: "DF__cities__updated___0D7A0286") @db.DateTime
  addresses   addresses[]
  provinces   provinces   @relation(fields: [province_id], references: [province_id], onUpdate: NoAction, map: "FK__cities__province__0E6E26BF")
  states      states      @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__cities__state__0F624AF8")

  @@unique([province_id, city_name], map: "UK_city_per_province")
}

model colors {
  color_id         Int                @id(map: "PK__colors__1143CECBF5E0F110") @default(autoincrement())
  color_name       String             @db.VarChar(50)
  hex_code         String?            @db.VarChar(7)
  state            String             @default("A", map: "DF__colors__state__3F466844") @db.VarChar(1)
  created_at       DateTime           @default(now(), map: "DF__colors__created___403A8C7D") @db.DateTime
  updated_at       DateTime           @default(now(), map: "DF__colors__updated___412EB0B6") @db.DateTime
  states           states             @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__colors__state__4222D4EF")
  product_variants product_variants[]
}

model countries {
  country_id   Int         @id(map: "PK__countrie__7E8CD05587E4E346") @default(autoincrement())
  country_name String      @unique(map: "UQ__countrie__F70188941AC463E8") @db.VarChar(100)
  country_code String      @unique(map: "UQ__countrie__3436E9A5B8F85F1D") @db.VarChar(3)
  state        String      @default("A", map: "DF__countries__state__7D439ABD") @db.VarChar(1)
  created_at   DateTime    @default(now(), map: "DF__countries__creat__7E37BEF6") @db.DateTime
  updated_at   DateTime    @default(now(), map: "DF__countries__updat__7F2BE32F") @db.DateTime
  states       states      @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__countries__state__00200768")
  provinces    provinces[]
}

model customers {
  customer_id    Int          @id(map: "PK__customer__CD65CB854A5721BB") @default(autoincrement())
  user_id        Int          @unique(map: "UQ__customer__B9BE370E252FDAD6")
  loyalty_points Int          @default(0, map: "DF__customers__loyal__2DE6D218")
  total_spent    Decimal      @default(0.00, map: "DF__customers__total__2EDAF651") @db.Decimal(12, 2)
  created_at     DateTime     @default(now(), map: "DF__customers__creat__2FCF1A8A") @db.DateTime
  updated_at     DateTime     @default(now(), map: "DF__customers__updat__30C33EC3") @db.DateTime
  users          users        @relation(fields: [user_id], references: [user_id], onUpdate: NoAction, map: "FK__customers__user___31B762FC")
  deliveries     deliveries[]
  orders         orders[]
}

model departments {
  department_id   Int         @id(map: "PK__departme__C2232422CE9621B3") @default(autoincrement())
  department_name String      @db.VarChar(100)
  state           String      @default("A", map: "DF__departmen__state__4AB81AF0") @db.VarChar(1)
  created_at      DateTime    @default(now(), map: "DF__departmen__creat__4BAC3F29") @db.DateTime
  updated_at      DateTime    @default(now(), map: "DF__departmen__updat__4CA06362") @db.DateTime
  states          states      @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__departmen__state__4D94879B")
  employees       employees[]
}

model document_types {
  document_type_id Int       @id(map: "PK__document__69F7C2B1DC2B9491") @default(autoincrement())
  type_name        String    @db.VarChar(50)
  state            String    @default("A", map: "DF__document___state__286302EC") @db.VarChar(1)
  created_at       DateTime  @default(now(), map: "DF__document___creat__29572725") @db.DateTime
  updated_at       DateTime  @default(now(), map: "DF__document___updat__2A4B4B5E") @db.DateTime
  states           states    @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__document___state__2B3F6F97")
  persons          persons[]
}

model employees {
  employee_id         Int                   @id(map: "PK__employee__C52E0BA88C1365A6") @default(autoincrement())
  user_id             Int                   @unique(map: "UQ__employee__B9BE370EED24BDE0")
  hire_date           DateTime              @db.Date
  department_id       Int?
  created_at          DateTime              @default(now(), map: "DF__employees__creat__3587F3E0") @db.DateTime
  updated_at          DateTime              @default(now(), map: "DF__employees__updat__367C1819") @db.DateTime
  departments         departments?          @relation(fields: [department_id], references: [department_id], onDelete: NoAction, onUpdate: NoAction, map: "FK__employees__depar__3864608B")
  users               users                 @relation(fields: [user_id], references: [user_id], onUpdate: NoAction, map: "FK__employees__user___37703C52")
  fuel_logs           fuel_logs[]
  inventory_movements inventory_movements[]
  shipments           shipments[]
}

model movement_types {
  movement            String                @id(map: "PK__movement__D20D5C05C1326322") @db.VarChar(20)
  state               String                @default("A", map: "DF__movement___state__5070F446") @db.VarChar(1)
  created_at          DateTime              @default(now(), map: "DF__movement___creat__5165187F") @db.DateTime
  updated_at          DateTime              @default(now(), map: "DF__movement___updat__52593CB8") @db.DateTime
  inventory_movements inventory_movements[]
  states              states                @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__movement___state__534D60F1")
}

model order_statuses {
  order_status_id Int      @id(map: "PK__order_st__A499CF236DBCF1F7") @default(autoincrement())
  status_name     String   @db.VarChar(50)
  state           String   @default("A", map: "DF__order_sta__state__5629CD9C") @db.VarChar(1)
  created_at      DateTime @default(now(), map: "DF__order_sta__creat__571DF1D5") @db.DateTime
  updated_at      DateTime @default(now(), map: "DF__order_sta__updat__5812160E") @db.DateTime
  states          states   @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__order_sta__state__59063A47")
  orders          orders[]
}

model parties {
  party_id   Int      @id(map: "PK__parties__8A2AF38EB9B3D747") @default(autoincrement())
  party_type String   @db.VarChar(20)
  state      String   @default("A", map: "DF__parties__state__68487DD7") @db.VarChar(1)
  created_at DateTime @default(now(), map: "DF__parties__created__693CA210") @db.DateTime
  updated_at DateTime @default(now(), map: "DF__parties__updated__6A30C649") @db.DateTime
  states     states   @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__parties__state__6B24EA82")
}

model payment_methods {
  payment_method_id Int        @id(map: "PK__payment___8A3EA9EBEF7078E2") @default(autoincrement())
  method_name       String     @db.VarChar(50)
  state             String     @default("A", map: "DF__payment_m__state__5BE2A6F2") @db.VarChar(1)
  created_at        DateTime   @default(now(), map: "DF__payment_m__creat__5CD6CB2B") @db.DateTime
  updated_at        DateTime   @default(now(), map: "DF__payment_m__updat__5DCAEF64") @db.DateTime
  states            states     @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__payment_m__state__5EBF139D")
  payments          payments[]
}

model persons {
  person_id        Int             @id(map: "PK__persons__543848DF0BDECAB7") @default(autoincrement())
  first_name       String          @db.VarChar(100)
  last_name        String          @db.VarChar(100)
  email            String?         @db.VarChar(100)
  date_of_birth    DateTime?       @db.Date
  document_type_id Int?
  document_number  String?         @db.VarChar(50)
  created_at       DateTime        @default(now(), map: "DF__persons__created__6E01572D") @db.DateTime
  updated_at       DateTime        @default(now(), map: "DF__persons__updated__6EF57B66") @db.DateTime
  addresses        addresses[]
  document_types   document_types? @relation(fields: [document_type_id], references: [document_type_id], onDelete: NoAction, onUpdate: NoAction, map: "FK__persons__documen__6FE99F9F")
  phones           phones[]
  suppliers        suppliers?
  users            users?
}

model phone_types {
  phone_type_id Int      @id(map: "PK__phone_ty__F535ED3F7FD9F7FC") @default(autoincrement())
  type_name     String   @db.VarChar(50)
  state         String   @default("A", map: "DF__phone_typ__state__2E1BDC42") @db.VarChar(1)
  created_at    DateTime @default(now(), map: "DF__phone_typ__creat__2F10007B") @db.DateTime
  updated_at    DateTime @default(now(), map: "DF__phone_typ__updat__300424B4") @db.DateTime
  states        states   @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__phone_typ__state__30F848ED")
  phones        phones[]
}

model phones {
  phone_id      Int         @id(map: "PK__phones__E6BD6DD7B3822535") @default(autoincrement())
  phone_type_id Int
  person_id     Int
  phone_number  String      @db.VarChar(20)
  is_primary    Boolean     @default(false, map: "DF__phones__is_prima__72C60C4A")
  state         String      @default("A", map: "DF__phones__state__73BA3083") @db.VarChar(1)
  created_at    DateTime    @default(now(), map: "DF__phones__created___74AE54BC") @db.DateTime
  updated_at    DateTime    @default(now(), map: "DF__phones__updated___75A278F5") @db.DateTime
  persons       persons     @relation(fields: [person_id], references: [person_id], onUpdate: NoAction, map: "FK__phones__person_i__76969D2E")
  phone_types   phone_types @relation(fields: [phone_type_id], references: [phone_type_id], onUpdate: NoAction, map: "FK__phones__phone_ty__778AC167")
  states        states      @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__phones__state__787EE5A0")
}

model provinces {
  province_id   Int       @id(map: "PK__province__08DCB60FD6285A6E") @default(autoincrement())
  country_id    Int
  province_name String    @db.VarChar(100)
  province_code String?   @db.VarChar(10)
  state         String    @default("A", map: "DF__provinces__state__03F0984C") @db.VarChar(1)
  created_at    DateTime  @default(now(), map: "DF__provinces__creat__04E4BC85") @db.DateTime
  updated_at    DateTime  @default(now(), map: "DF__provinces__updat__05D8E0BE") @db.DateTime
  cities        cities[]
  countries     countries @relation(fields: [country_id], references: [country_id], onUpdate: NoAction, map: "FK__provinces__count__06CD04F7")
  states        states    @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__provinces__state__07C12930")

  @@unique([country_id, province_name], map: "UK_province_per_country")
}

model roles {
  role_id    Int      @id(map: "PK__roles__760965CCF9B5482E") @default(autoincrement())
  role_name  String   @db.VarChar(100)
  state      String   @default("A", map: "DF__roles__state__33D4B598") @db.VarChar(1)
  created_at DateTime @default(now(), map: "DF__roles__created_a__34C8D9D1") @db.DateTime
  updated_at DateTime @default(now(), map: "DF__roles__updated_a__35BCFE0A") @db.DateTime
  states     states   @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__roles__state__36B12243")
  users      users[]
}

model shipping_statuses {
  status_code String      @id(map: "PK__shipping__4157B020BDE0F66C") @db.VarChar(25)
  description String      @db.VarChar(100)
  state       String      @default("A", map: "DF__shipping___state__619B8048") @db.VarChar(1)
  created_at  DateTime    @default(now(), map: "DF__shipping___creat__628FA481") @db.DateTime
  updated_at  DateTime    @default(now(), map: "DF__shipping___updat__6383C8BA") @db.DateTime
  shipments   shipments[]
  states      states      @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__shipping___state__6477ECF3")
}

model sizes {
  size_code        String             @id(map: "PK__sizes__4D990C7AA1976AC7") @db.VarChar(10)
  state            String             @default("A", map: "DF__sizes__state__398D8EEE") @db.VarChar(1)
  created_at       DateTime           @default(now(), map: "DF__sizes__created_a__3A81B327") @db.DateTime
  updated_at       DateTime           @default(now(), map: "DF__sizes__updated_a__3B75D760") @db.DateTime
  product_variants product_variants[]
  states           states             @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__sizes__state__3C69FB99")
}

model states {
  state                  String                   @id(map: "PK__states__A9360BC2B5835367") @db.VarChar(1)
  description            String                   @db.VarChar(100)
  created_at             DateTime                 @default(now(), map: "DF__states__created___24927208") @db.DateTime
  updated_at             DateTime                 @default(now(), map: "DF__states__updated___25869641") @db.DateTime
  created_by             Int?
  updated_by             Int?
  addresses              addresses[]
  categories             categories[]
  cities                 cities[]
  colors                 colors[]
  completed_maintenance  completed_maintenance[]
  countries              countries[]
  deliveries             deliveries[]
  departments            departments[]
  document_types         document_types[]
  fuel_logs              fuel_logs[]
  inventory_movements    inventory_movements[]
  maintenance_parts      maintenance_parts[]
  maintenance_statuses   maintenance_statuses[]
  maintenance_types      maintenance_types[]
  movement_types         movement_types[]
  order_statuses         order_statuses[]
  orders                 orders[]
  parties                parties[]
  payment_methods        payment_methods[]
  payments               payments[]
  phone_types            phone_types[]
  phones                 phones[]
  product_images         product_images[]
  product_variants       product_variants[]
  products               products[]
  provinces              provinces[]
  roles                  roles[]
  scheduled_maintenance  scheduled_maintenance[]
  shipments              shipments[]
  shipping_statuses      shipping_statuses[]
  sizes                  sizes[]
  suppliers              suppliers[]
  users                  users[]
  vehicle_document_types vehicle_document_types[]
  vehicle_documents      vehicle_documents[]
  vehicle_statuses       vehicle_statuses[]
  vehicle_types          vehicle_types[]
  vehicles               vehicles[]
}

model suppliers {
  supplier_id           Int                     @id(map: "PK__supplier__6EE594E86962E03D") @default(autoincrement())
  person_id             Int                     @unique(map: "UK_supplier_person")
  company_name          String?                 @db.VarChar(100)
  state                 String                  @default("A", map: "DF__suppliers__state__1BC821DD") @db.VarChar(1)
  created_at            DateTime                @default(now(), map: "DF__suppliers__creat__1CBC4616") @db.DateTime
  updated_at            DateTime                @default(now(), map: "DF__suppliers__updat__1DB06A4F") @db.DateTime
  completed_maintenance completed_maintenance[]
  scheduled_maintenance scheduled_maintenance[]
  persons               persons                 @relation(fields: [person_id], references: [person_id], onUpdate: NoAction, map: "FK__suppliers__perso__1EA48E88")
  states                states                  @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__suppliers__state__1F98B2C1")
  vehicles              vehicles[]
}

model users {
  user_id    Int        @id(map: "PK__users__B9BE370F495B1E9A") @default(autoincrement())
  person_id  Int        @unique(map: "UK_user_person")
  username   String     @unique(map: "UQ__users__F3DBC572CC71DF51") @db.VarChar(50)
  password   String     @db.VarChar(100)
  role_id    Int?
  last_login DateTime?  @db.DateTime
  state      String     @default("A", map: "DF__users__state__25518C17") @db.VarChar(1)
  created_at DateTime   @default(now(), map: "DF__users__created_a__2645B050") @db.DateTime
  updated_at DateTime   @default(now(), map: "DF__users__updated_a__2739D489") @db.DateTime
  customers  customers?
  employees  employees?
  persons    persons    @relation(fields: [person_id], references: [person_id], onUpdate: NoAction, map: "FK__users__person_id__282DF8C2")
  roles      roles?     @relation(fields: [role_id], references: [role_id], onDelete: NoAction, onUpdate: NoAction, map: "FK__users__role_id__29221CFB")
  states     states     @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__users__state__2A164134")
}

model completed_maintenance {
  completed_maintenance_id Int                     @id(map: "PK__complete__AAC00D0EA7D242E3") @default(autoincrement())
  scheduled_maintenance_id Int?
  vehicle_id               Int
  maintenance_type_id      Int
  description              String                  @db.VarChar(1000)
  mileage_at_service       Int
  start_date               DateTime                @db.Date
  completion_date          DateTime?               @db.Date
  supplier_id              Int
  total_cost               Decimal                 @default(0.00, map: "DF__completed__total__3EDC53F0") @db.Decimal(12, 2)
  warranty_days            Int                     @default(0, map: "DF__completed__warra__3FD07829")
  notes                    String?                 @db.VarChar(1000)
  state                    String                  @default("A", map: "DF__completed__state__40C49C62") @db.VarChar(1)
  created_at               DateTime                @default(now(), map: "DF__completed__creat__41B8C09B") @db.DateTime
  updated_at               DateTime                @default(now(), map: "DF__completed__updat__42ACE4D4") @db.DateTime
  maintenance_types        maintenance_types       @relation(fields: [maintenance_type_id], references: [maintenance_type_id], onUpdate: NoAction, map: "FK__completed__maint__4589517F")
  scheduled_maintenance    scheduled_maintenance?  @relation(fields: [scheduled_maintenance_id], references: [scheduled_maintenance_id], onDelete: NoAction, onUpdate: NoAction, map: "FK__completed__sched__43A1090D")
  states                   states                  @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__completed__state__477199F1")
  suppliers                suppliers               @relation(fields: [supplier_id], references: [supplier_id], onUpdate: NoAction, map: "FK__completed__suppl__467D75B8")
  vehicles                 vehicles                @relation(fields: [vehicle_id], references: [vehicle_id], onUpdate: NoAction, map: "FK__completed__vehic__44952D46")
  maintenance_documents    maintenance_documents[]
  maintenance_parts        maintenance_parts[]
}

model deliveries {
  delivery_id   Int       @id(map: "PK__deliveri__1C5CF4F59018F7C7") @default(autoincrement())
  shipment_id   Int
  order_id      Int
  customer_id   Int
  received_by   String?   @db.VarChar(100)
  delivery_date DateTime  @default(now(), map: "DF__deliverie__deliv__6CA31EA0") @db.DateTime
  notes         String?   @db.VarChar(1000)
  signature_url String?   @db.VarChar(500)
  state         String    @default("A", map: "DF__deliverie__state__6D9742D9") @db.VarChar(1)
  created_at    DateTime  @default(now(), map: "DF__deliverie__creat__6E8B6712") @db.DateTime
  updated_at    DateTime  @default(now(), map: "DF__deliverie__updat__6F7F8B4B") @db.DateTime
  customers     customers @relation(fields: [customer_id], references: [customer_id], onUpdate: NoAction, map: "FK__deliverie__custo__73501C2F")
  orders        orders    @relation(fields: [order_id], references: [order_id], onUpdate: NoAction, map: "FK__deliverie__order__725BF7F6")
  shipments     shipments @relation(fields: [shipment_id], references: [shipment_id], onUpdate: NoAction, map: "FK__deliverie__shipm__7167D3BD")
  states        states    @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__deliverie__state__74444068")
}

model fuel_logs {
  fuel_log_id     Int       @id(map: "PK__fuel_log__78804E840A809EFC") @default(autoincrement())
  vehicle_id      Int
  driver_id       Int
  fill_date       DateTime  @db.Date
  mileage         Int
  gallons         Decimal   @db.Decimal(8, 3)
  cost_per_gallon Decimal   @db.Decimal(8, 3)
  total_cost      Decimal?  @db.Decimal(17, 6)
  gas_station     String?   @db.VarChar(100)
  invoice_number  String?   @db.VarChar(50)
  notes           String?   @db.VarChar(500)
  state           String    @default("A", map: "DF__fuel_logs__state__53D770D6") @db.VarChar(1)
  created_at      DateTime  @default(now(), map: "DF__fuel_logs__creat__54CB950F") @db.DateTime
  updated_at      DateTime  @default(now(), map: "DF__fuel_logs__updat__55BFB948") @db.DateTime
  employees       employees @relation(fields: [driver_id], references: [employee_id], onUpdate: NoAction, map: "FK__fuel_logs__drive__589C25F3")
  states          states    @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__fuel_logs__state__59904A2C")
  vehicles        vehicles  @relation(fields: [vehicle_id], references: [vehicle_id], onUpdate: NoAction, map: "FK__fuel_logs__vehic__57A801BA")
}

model inventory_movements {
  movement_id      Int              @id(map: "PK__inventor__AB1D1022E8774608") @default(autoincrement())
  variant_id       Int
  movement         String           @db.VarChar(20)
  quantity         Int
  reference_number String?          @db.VarChar(50)
  notes            String?          @db.VarChar(500)
  movement_date    DateTime         @default(now(), map: "DF__inventory__movem__59C55456") @db.DateTime
  created_by       Int?
  state            String           @default("A", map: "DF__inventory__state__5AB9788F") @db.VarChar(1)
  created_at       DateTime         @default(now(), map: "DF__inventory__creat__5BAD9CC8") @db.DateTime
  updated_at       DateTime         @default(now(), map: "DF__inventory__updat__5CA1C101") @db.DateTime
  employees        employees?       @relation(fields: [created_by], references: [employee_id], onDelete: NoAction, onUpdate: NoAction, map: "FK__inventory__creat__5F7E2DAC")
  movement_types   movement_types   @relation(fields: [movement], references: [movement], onUpdate: NoAction, map: "FK__inventory__movem__5E8A0973")
  states           states           @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__inventory__state__607251E5")
  product_variants product_variants @relation(fields: [variant_id], references: [variant_id], onUpdate: NoAction, map: "FK__inventory__varia__5D95E53A")
}

model maintenance_parts {
  maintenance_part_id      Int                   @id(map: "PK__maintena__6F84A7BD648F8E19") @default(autoincrement())
  completed_maintenance_id Int
  part_description         String                @db.VarChar(200)
  part_number              String?               @db.VarChar(100)
  quantity                 Int                   @default(1, map: "DF__maintenan__quant__4A4E069C")
  unit_cost                Decimal               @db.Decimal(10, 2)
  total_cost               Decimal?              @db.Decimal(21, 2)
  state                    String                @default("A", map: "DF__maintenan__state__4C364F0E") @db.VarChar(1)
  created_at               DateTime              @default(now(), map: "DF__maintenan__creat__4D2A7347") @db.DateTime
  updated_at               DateTime              @default(now(), map: "DF__maintenan__updat__4E1E9780") @db.DateTime
  completed_maintenance    completed_maintenance @relation(fields: [completed_maintenance_id], references: [completed_maintenance_id], onUpdate: NoAction, map: "FK__maintenan__compl__4F12BBB9")
  states                   states                @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__maintenan__state__50FB042B")
}

model maintenance_statuses {
  maintenance_status_id Int                     @id(map: "PK__maintena__234CAC54181A3586") @default(autoincrement())
  status_name           String                  @db.VarChar(50)
  state                 String                  @default("A", map: "DF__maintenan__state__2F9A1060") @db.VarChar(1)
  created_at            DateTime                @default(now(), map: "DF__maintenan__creat__308E3499") @db.DateTime
  updated_at            DateTime                @default(now(), map: "DF__maintenan__updat__318258D2") @db.DateTime
  states                states                  @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__maintenan__state__32767D0B")
  scheduled_maintenance scheduled_maintenance[]
}

model maintenance_types {
  maintenance_type_id   Int                     @id(map: "PK__maintena__162D5D0E5B9923A2") @default(autoincrement())
  type_name             String                  @db.VarChar(50)
  description           String?                 @db.VarChar(255)
  state                 String                  @default("A", map: "DF__maintenan__state__29E1370A") @db.VarChar(1)
  created_at            DateTime                @default(now(), map: "DF__maintenan__creat__2AD55B43") @db.DateTime
  updated_at            DateTime                @default(now(), map: "DF__maintenan__updat__2BC97F7C") @db.DateTime
  completed_maintenance completed_maintenance[]
  states                states                  @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__maintenan__state__2CBDA3B5")
  scheduled_maintenance scheduled_maintenance[]
}

model order_items {
  order_id         Int
  variant_id       Int
  quantity         Int
  unit_price       Decimal          @db.Decimal(10, 2)
  discount         Decimal          @default(0.00, map: "DF__order_ite__disco__719CDDE7") @db.Decimal(10, 2)
  subtotal         Decimal?         @db.Decimal(22, 2)
  created_at       DateTime         @default(now(), map: "DF__order_ite__creat__72910220") @db.DateTime
  updated_at       DateTime         @default(now(), map: "DF__order_ite__updat__73852659") @db.DateTime
  orders           orders           @relation(fields: [order_id], references: [order_id], onUpdate: NoAction, map: "FK__order_ite__order__74794A92")
  product_variants product_variants @relation(fields: [variant_id], references: [variant_id], onUpdate: NoAction, map: "FK__order_ite__varia__756D6ECB")

  @@id([order_id, variant_id], map: "PK__order_it__28F5A4A2E5B173A3")
}

model orders {
  order_id                Int               @id(map: "PK__orders__465962298962EC24") @default(autoincrement())
  order_number            String            @unique(map: "UQ__orders__730E34DFECFA8D15") @db.VarChar(50)
  customer_id             Int
  shipping_address_id     Int
  order_status_id         Int
  subtotal                Decimal           @default(0.00, map: "DF__orders__subtotal__6442E2C9") @db.Decimal(12, 2)
  tax_amount              Decimal           @default(0.00, map: "DF__orders__tax_amou__65370702") @db.Decimal(12, 2)
  shipping_cost           Decimal           @default(0.00, map: "DF__orders__shipping__662B2B3B") @db.Decimal(10, 2)
  discount_amount         Decimal           @default(0.00, map: "DF__orders__discount__671F4F74") @db.Decimal(10, 2)
  total_amount            Decimal           @db.Decimal(12, 2)
  estimated_delivery_date DateTime?         @db.Date
  actual_delivery_date    DateTime?         @db.DateTime
  notes                   String?           @db.VarChar(500)
  state                   String            @default("A", map: "DF__orders__state__681373AD") @db.VarChar(1)
  created_at              DateTime          @default(now(), map: "DF__orders__created___690797E6") @db.DateTime
  updated_at              DateTime          @default(now(), map: "DF__orders__updated___69FBBC1F") @db.DateTime
  deliveries              deliveries[]
  order_items             order_items[]
  customers               customers         @relation(fields: [customer_id], references: [customer_id], onUpdate: NoAction, map: "FK__orders__customer__6AEFE058")
  order_statuses          order_statuses    @relation(fields: [order_status_id], references: [order_status_id], onUpdate: NoAction, map: "FK__orders__order_st__6CD828CA")
  addresses               addresses         @relation(fields: [shipping_address_id], references: [address_id], onUpdate: NoAction, map: "FK__orders__shipping__6BE40491")
  states                  states            @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__orders__state__6DCC4D03")
  payments                payments[]
  shipment_orders         shipment_orders[]
}

model payments {
  payment_id        Int             @id(map: "PK__payments__ED1FC9EA3DB2268D") @default(autoincrement())
  order_id          Int
  payment_method_id Int
  transaction_id    String?         @db.VarChar(100)
  amount            Decimal         @db.Decimal(12, 2)
  payment_date      DateTime        @default(now(), map: "DF__payments__paymen__793DFFAF") @db.DateTime
  status            String          @default("COMPLETADO", map: "DF__payments__status__7A3223E8") @db.VarChar(20)
  notes             String?         @db.VarChar(500)
  state             String          @default("A", map: "DF__payments__state__7C1A6C5A") @db.VarChar(1)
  created_at        DateTime        @default(now(), map: "DF__payments__create__7D0E9093") @db.DateTime
  updated_at        DateTime        @default(now(), map: "DF__payments__update__7E02B4CC") @db.DateTime
  orders            orders          @relation(fields: [order_id], references: [order_id], onUpdate: NoAction, map: "FK__payments__order___7EF6D905")
  payment_methods   payment_methods @relation(fields: [payment_method_id], references: [payment_method_id], onUpdate: NoAction, map: "FK__payments__paymen__7FEAFD3E")
  states            states          @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__payments__state__00DF2177")
}

model product_images {
  image_id   Int      @id(map: "PK__product___DC9AC9559F3245AC") @default(autoincrement())
  product_id Int
  image_url  String   @db.VarChar(500)
  is_primary Boolean  @default(false, map: "DF__product_i__is_pr__5224328E")
  state      String   @default("A", map: "DF__product_i__state__531856C7") @db.VarChar(1)
  created_at DateTime @default(now(), map: "DF__product_i__creat__540C7B00") @db.DateTime
  updated_at DateTime @default(now(), map: "DF__product_i__updat__55009F39") @db.DateTime
  products   products @relation(fields: [product_id], references: [product_id], onUpdate: NoAction, map: "FK__product_i__produ__55F4C372")
  states     states   @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__product_i__state__56E8E7AB")
}

model product_variants {
  variant_id          Int                   @id(map: "PK__product___EACC68B7F85D20C4") @default(autoincrement())
  product_id          Int
  color_id            Int
  size_code           String                @db.VarChar(10)
  price_adjustment    Decimal               @default(0.00, map: "DF__product_v__price__45BE5BA9") @db.Decimal(10, 2)
  stock_quantity      Int                   @default(0, map: "DF__product_v__stock__46B27FE2")
  reorder_level       Int                   @default(10, map: "DF__product_v__reord__489AC854")
  state               String                @default("A", map: "DF__product_v__state__498EEC8D") @db.VarChar(1)
  created_at          DateTime              @default(now(), map: "DF__product_v__creat__4A8310C6") @db.DateTime
  updated_at          DateTime              @default(now(), map: "DF__product_v__updat__4B7734FF") @db.DateTime
  inventory_movements inventory_movements[]
  order_items         order_items[]
  colors              colors                @relation(fields: [color_id], references: [color_id], onUpdate: NoAction, map: "FK__product_v__color__4D5F7D71")
  products            products              @relation(fields: [product_id], references: [product_id], onUpdate: NoAction, map: "FK__product_v__produ__4C6B5938")
  sizes               sizes                 @relation(fields: [size_code], references: [size_code], onUpdate: NoAction, map: "FK__product_v__size___4E53A1AA")
  states              states                @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__product_v__state__4F47C5E3")

  @@unique([product_id, color_id, size_code], map: "UK_product_variant")
}

model products {
  product_id       Int                @id(map: "PK__products__47027DF5E6450625") @default(autoincrement())
  product_name     String             @db.VarChar(200)
  description      String?            @db.VarChar(1000)
  price            Decimal            @db.Decimal(10, 2)
  category_id      Int
  weight           Decimal?           @db.Decimal(8, 2)
  state            String             @default("A", map: "DF__products__state__3E1D39E1") @db.VarChar(1)
  created_at       DateTime           @default(now(), map: "DF__products__create__3F115E1A") @db.DateTime
  updated_at       DateTime           @default(now(), map: "DF__products__update__40058253") @db.DateTime
  product_images   product_images[]
  product_variants product_variants[]
  categories       categories         @relation(fields: [category_id], references: [category_id], onUpdate: NoAction, map: "FK__products__catego__40F9A68C")
  states           states             @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__products__state__41EDCAC5")
}

model scheduled_maintenance {
  scheduled_maintenance_id Int                     @id(map: "PK__schedule__D18DC10F17F829F4") @default(autoincrement())
  vehicle_id               Int
  maintenance_type_id      Int
  description              String?                 @db.VarChar(500)
  scheduled_mileage        Int?
  scheduled_date           DateTime                @db.Date
  supplier_id              Int?
  estimated_cost           Decimal?                @db.Decimal(10, 2)
  maintenance_status_id    Int
  state                    String                  @default("A", map: "DF__scheduled__state__3552E9B6") @db.VarChar(1)
  created_at               DateTime                @default(now(), map: "DF__scheduled__creat__36470DEF") @db.DateTime
  updated_at               DateTime                @default(now(), map: "DF__scheduled__updat__373B3228") @db.DateTime
  completed_maintenance    completed_maintenance[]
  maintenance_types        maintenance_types       @relation(fields: [maintenance_type_id], references: [maintenance_type_id], onUpdate: NoAction, map: "FK__scheduled__maint__39237A9A")
  maintenance_statuses     maintenance_statuses    @relation(fields: [maintenance_status_id], references: [maintenance_status_id], onUpdate: NoAction, map: "FK__scheduled__maint__3B0BC30C")
  states                   states                  @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__scheduled__state__3BFFE745")
  suppliers                suppliers?              @relation(fields: [supplier_id], references: [supplier_id], onDelete: NoAction, onUpdate: NoAction, map: "FK__scheduled__suppl__3A179ED3")
  vehicles                 vehicles                @relation(fields: [vehicle_id], references: [vehicle_id], onUpdate: NoAction, map: "FK__scheduled__vehic__382F5661")
}

model shipment_orders {
  shipment_id Int
  order_id    Int
  sequence    Int       @default(1, map: "DF__shipment___seque__65F62111")
  created_at  DateTime  @default(now(), map: "DF__shipment___creat__66EA454A") @db.DateTime
  updated_at  DateTime  @default(now(), map: "DF__shipment___updat__67DE6983") @db.DateTime
  orders      orders    @relation(fields: [order_id], references: [order_id], onUpdate: NoAction, map: "FK__shipment___order__6ABAD62E")
  shipments   shipments @relation(fields: [shipment_id], references: [shipment_id], onUpdate: NoAction, map: "FK__shipment___shipm__69C6B1F5")

  @@id([shipment_id, order_id], map: "PK__shipment__C523F87B96B7718E")
}

model shipments {
  shipment_id       Int               @id(map: "PK__shipment__41466E59D35355EB") @default(autoincrement())
  shipment_number   String            @unique(map: "UQ__shipment__18EE3BAF82381FF9") @db.VarChar(50)
  vehicle_id        Int
  driver_id         Int
  status_code       String            @db.VarChar(25)
  ship_date         DateTime          @default(now(), map: "DF__shipments__ship___5C6CB6D7") @db.DateTime
  delivery_date     DateTime?         @db.DateTime
  notes             String?           @db.VarChar(1000)
  state             String            @default("A", map: "DF__shipments__state__5D60DB10") @db.VarChar(1)
  created_at        DateTime          @default(now(), map: "DF__shipments__creat__5E54FF49") @db.DateTime
  updated_at        DateTime          @default(now(), map: "DF__shipments__updat__5F492382") @db.DateTime
  deliveries        deliveries[]
  shipment_orders   shipment_orders[]
  employees         employees         @relation(fields: [driver_id], references: [employee_id], onUpdate: NoAction, map: "FK__shipments__drive__6225902D")
  states            states            @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__shipments__state__640DD89F")
  shipping_statuses shipping_statuses @relation(fields: [status_code], references: [status_code], onUpdate: NoAction, map: "FK__shipments__statu__6319B466")
  vehicles          vehicles          @relation(fields: [vehicle_id], references: [vehicle_id], onUpdate: NoAction, map: "FK__shipments__vehic__61316BF4")
}

model vehicle_document_types {
  document_type_id  Int                 @id(map: "PK__vehicle___69F7C2B1E01270F4") @default(autoincrement())
  type_name         String              @db.VarChar(100)
  state             String              @default("A", map: "DF__vehicle_d__state__1B9317B3") @db.VarChar(1)
  created_at        DateTime            @default(now(), map: "DF__vehicle_d__creat__1C873BEC") @db.DateTime
  updated_at        DateTime            @default(now(), map: "DF__vehicle_d__updat__1D7B6025") @db.DateTime
  states            states              @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__vehicle_d__state__1E6F845E")
  vehicle_documents vehicle_documents[]
}

model vehicle_documents {
  vehicle_document_id    Int                    @id(map: "PK__vehicle___8C5AE5326F2D8B16") @default(autoincrement())
  vehicle_id             Int
  document_type_id       Int
  document_number        String?                @db.VarChar(100)
  issuing_authority      String?                @db.VarChar(255)
  issue_date             DateTime?              @db.Date
  expiration_date        DateTime               @db.Date
  amount                 Decimal?               @db.Decimal(10, 2)
  is_valid               Boolean                @default(true, map: "DF__vehicle_d__is_va__214BF109")
  state                  String                 @default("A", map: "DF__vehicle_d__state__22401542") @db.VarChar(1)
  created_at             DateTime               @default(now(), map: "DF__vehicle_d__creat__2334397B") @db.DateTime
  updated_at             DateTime               @default(now(), map: "DF__vehicle_d__updat__24285DB4") @db.DateTime
  vehicle_document_types vehicle_document_types @relation(fields: [document_type_id], references: [document_type_id], onUpdate: NoAction, map: "FK__vehicle_d__docum__2610A626")
  states                 states                 @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__vehicle_d__state__2704CA5F")
  vehicles               vehicles               @relation(fields: [vehicle_id], references: [vehicle_id], onUpdate: NoAction, map: "FK__vehicle_d__vehic__251C81ED")
}

model vehicle_statuses {
  vehicle_status_id Int        @id(map: "PK__vehicle___E8592AD29D0B2E37") @default(autoincrement())
  status_name       String     @db.VarChar(50)
  state             String     @default("A", map: "DF__vehicle_s__state__09746778") @db.VarChar(1)
  created_at        DateTime   @default(now(), map: "DF__vehicle_s__creat__0A688BB1") @db.DateTime
  updated_at        DateTime   @default(now(), map: "DF__vehicle_s__updat__0B5CAFEA") @db.DateTime
  states            states     @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__vehicle_s__state__0C50D423")
  vehicles          vehicles[]
}

model vehicle_types {
  vehicle_type_id  Int        @id(map: "PK__vehicle___2A00721873A5AC92") @default(autoincrement())
  type_name        String     @db.VarChar(100)
  description      String?    @db.VarChar(500)
  state            String     @default("A", map: "DF__vehicle_t__state__03BB8E22") @db.VarChar(1)
  load_capacity_kg Decimal    @db.Decimal(10, 2)
  created_at       DateTime   @default(now(), map: "DF__vehicle_t__creat__04AFB25B") @db.DateTime
  updated_at       DateTime   @default(now(), map: "DF__vehicle_t__updat__05A3D694") @db.DateTime
  states           states     @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__vehicle_t__state__0697FACD")
  vehicles         vehicles[]
}

model vehicles {
  vehicle_id            Int                     @id(map: "PK__vehicles__F2947BC115C835D8") @default(autoincrement())
  vehicle_type_id       Int
  make                  String                  @db.VarChar(100)
  model                 String                  @db.VarChar(100)
  year                  Int
  license_plate         String                  @unique(map: "UQ__vehicles__F72CD56EB962133E") @db.VarChar(20)
  vin                   String?                 @unique(map: "UQ__vehicles__DDB00C66BAAD57CB") @db.VarChar(50)
  engine_number         String?                 @db.VarChar(50)
  color                 String?                 @db.VarChar(50)
  current_mileage       Int                     @default(0, map: "DF__vehicles__curren__1209AD79")
  load_capacity_kg      Decimal                 @db.Decimal(10, 2)
  vehicle_status_id     Int
  supplier_id           Int?
  purchase_date         DateTime?               @db.Date
  purchase_price        Decimal?                @db.Decimal(12, 2)
  state                 String                  @default("A", map: "DF__vehicles__state__12FDD1B2") @db.VarChar(1)
  created_at            DateTime                @default(now(), map: "DF__vehicles__create__13F1F5EB") @db.DateTime
  updated_at            DateTime                @default(now(), map: "DF__vehicles__update__14E61A24") @db.DateTime
  completed_maintenance completed_maintenance[]
  fuel_logs             fuel_logs[]
  scheduled_maintenance scheduled_maintenance[]
  shipments             shipments[]
  vehicle_documents     vehicle_documents[]
  states                states                  @relation(fields: [state], references: [state], onUpdate: NoAction, map: "FK__vehicles__state__18B6AB08")
  suppliers             suppliers?              @relation(fields: [supplier_id], references: [supplier_id], onDelete: NoAction, onUpdate: NoAction, map: "FK__vehicles__suppli__17C286CF")
  vehicle_types         vehicle_types           @relation(fields: [vehicle_type_id], references: [vehicle_type_id], onUpdate: NoAction, map: "FK__vehicles__vehicl__15DA3E5D")
  vehicle_statuses      vehicle_statuses        @relation(fields: [vehicle_status_id], references: [vehicle_status_id], onUpdate: NoAction, map: "FK__vehicles__vehicl__16CE6296")
}

model maintenance_documents {
  maintenance_document_id  Int                   @id(map: "PK__maintena__C5CC0E0D01990A98") @default(autoincrement())
  completed_maintenance_id Int
  document_url             String                @db.VarChar(500)
  document_name            String?               @db.VarChar(200)
  created_at               DateTime              @default(now(), map: "DF__maintenan__creat__762C88DA") @db.DateTime
  completed_maintenance    completed_maintenance @relation(fields: [completed_maintenance_id], references: [completed_maintenance_id], onUpdate: NoAction, map: "FK__maintenan__compl__7720AD13")
}
